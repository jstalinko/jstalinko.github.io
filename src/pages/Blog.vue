<template>
  <Layout>
    <section class="p-5">

      <h2 class="text-black text-2xl mx-1 font-extrabold  relative inline-block stroke-current">
        üìÑ Blog Posts
        <svg class="absolute-bottom-0.5 w-full max-h-1.5" viewBox="0 0 55 5" xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="none">
          <path d="M0.652466 4.00002C15.8925 2.66668 48.0351 0.400018 54.6853 2.00002" strokeWidth="2"></path>
        </svg>
      </h2>
      <ul className="mt-2">

        <li class="flex justify-between p-2 border-b-2 border-b-black hover:text-amber-800 hover:border-b-amber-600"
          v-for="(post, index) in $page.posts.edges" :key="post.path">
          <g-link :to="post.node.path">{{ iconPost[index] }} {{ post.node.title }}</g-link>
          <span>[{{ post.node.date }}]</span>
        </li>

      </ul>
      <g-link to="/blog" class="mt-2 block text-center text-black font-bold hover:text-amber-800">üìö More Posts</g-link>

    </section>
  </Layout>
</template>

<page-query>
  query Posts {
    posts: allBlogPost (sortBy: "date", order: DESC) {
      edges {
        node {
          title
          date (format: "MMMM D, Y")
          path
        }
      }
    }
  }
  </page-query>

<script>
export default {
  metaInfo: {
    title: 'Blog Posts'
  },
  data() {
    return {
      iconPost:{
        0: 'üî•',
        1: '1Ô∏è‚É£',
        2: '2Ô∏è‚É£',
        3: '3Ô∏è‚É£',
        4: '4Ô∏è‚É£',
        5: '5Ô∏è‚É£',
        6: '6Ô∏è‚É£',
        7: '7Ô∏è‚É£',
        8: '8Ô∏è‚É£',
        9: '9Ô∏è‚É£',
        10: 'üîü',
      }
    }
  },
}
</script>